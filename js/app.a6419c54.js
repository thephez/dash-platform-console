(function(e){function t(t){for(var r,s,i=t[0],c=t[1],l=t[2],u=0,m=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(m.length)m.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},a=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},2:function(e,t){},3:function(e,t){},"3ecb":function(e,t,n){"use strict";var r=n("51e8"),o=n.n(r);o.a},4:function(e,t){},5:function(e,t){},"51e8":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-app-bar",{attrs:{app:""}},[r("a",{attrs:{href:"http://console.dashevo.io/"}},[r("v-img",{staticClass:"mx-2",attrs:{src:n("f3b2"),"max-height":"20","max-width":"68",contain:""}})],1),r("v-toolbar-title",{staticClass:"hidden-xs-only"},[e._v("Platform Console")]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{staticClass:"ml-1",attrs:{text:"",to:{name:"wallet"}}},[e._v("Wallet")]),r("v-btn",{staticClass:"ml-1",attrs:{text:"",to:{name:"platform"}}},[e._v("Platform")])],1),r("v-progress-linear",{attrs:{active:e.isSyncing,indeterminate:"",absolute:"",bottom:"",color:"primary"}})],1),r("v-content",[r("v-container",{attrs:{fluid:""}},[r("router-view"),r("v-snackbar",{attrs:{top:"top",color:"error"},model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.text)+" "),r("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){e.snackbar.show=!1}}},[e._v("Close")])],1)],1)],1),r("v-footer",{attrs:{padless:""}},[r("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[e._v(" "+e._s((new Date).getFullYear())+" â€” "),r("strong",[r("a",{attrs:{href:"https://dashplatform.readme.io/docs/tutorial-connecting-to-evonet",target:"_blank"}},[e._v("dash platform docs")])])])],1)],1)},a=[],s=(n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),i=n("2f62");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={data:function(){return{drawer:!1,welcome:!0,snackbar:{show:!1,text:""}}},computed:l({},Object(i["c"])(["isSyncing","userIdentitiesWithNames","applicationIdentitiesWithContracts","hasWallet"]),{hasUserIdentities:function(){return Boolean(this.userIdentitiesWithNames.length)},hasApplicationIdentities:function(){return Boolean(this.applicationIdentitiesWithContracts.length)}}),created:function(){var e=this;this.$store.dispatch("initWallet"),this.$store.watch((function(e){return e.snackError.text}),(function(){e.snackbar=e.$store.state.snackError}))}},u=d,m=n("2877"),p=n("6544"),h=n.n(p),v=n("7496"),f=n("40dc"),b=n("8336"),y=n("62ad"),g=n("a523"),w=n("a75b"),O=n("553a"),x=n("adda"),D=n("8e36"),_=n("2db4"),k=n("2fa4"),j=n("2a7f"),C=Object(m["a"])(u,o,a,!1,null,null,null),S=C.exports;h()(C,{VApp:v["a"],VAppBar:f["a"],VBtn:b["a"],VCol:y["a"],VContainer:g["a"],VContent:w["a"],VFooter:O["a"],VImg:x["a"],VProgressLinear:D["a"],VSnackbar:_["a"],VSpacer:k["a"],VToolbarItems:j["a"],VToolbarTitle:j["b"]});var I=n("8c4f"),V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-container",{staticStyle:{"max-width":"900px"},attrs:{fluid:""}},[n("v-card",{staticClass:"mx-auto"},[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Wallet Status")])]),n("v-card-text",{staticClass:"text-center"},[e.hasWallet?e._e():n("v-container",[n("v-btn",{staticClass:"ma-2",attrs:{"x-large":"",color:"primary"},on:{click:function(t){return t.stopPropagation(),e.createMnemonic(t)}}},[e._v("Create Wallet")]),n("v-btn",{staticClass:"ma-2",attrs:{"x-large":""},on:{click:e.showRestoreMnemonic}},[e._v("Restore Wallet")])],1),e.hasWallet?n("v-container",{attrs:{fluid:"",justify:"center"}},[n("v-btn",{staticClass:"ma-2",attrs:{"x-large":"",color:"primary"},on:{click:e.backupMnemonic}},[e._v("Backup Wallet")]),n("v-btn",{staticClass:"ma-2",attrs:{"x-large":""},on:{click:e.forgetState}},[e._v("Forget Wallet")])],1):e._e()],1)],1)],1),n("v-container",{staticStyle:{"max-width":"900px"},attrs:{fluid:""}},[e.hasWallet?n("v-card",{staticClass:"mx-auto mt-10"},[n("v-container",[n("v-row",[n("v-col",[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline mb-1"},[e._v(" "+e._s(e.balanceInDash)+" Dash "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({staticStyle:{"z-index":"4"},attrs:{fab:"",absolute:"",small:"",right:"",loading:e.isRefreshingBalance},on:{click:e.refreshWallet}},r),[n("v-icon",{attrs:{color:"primary",dark:""}},[e._v("mdi-refresh")])],1)]}}],null,!1,1079581003)},[n("span",[e._v("Refresh Balance")])])],1),n("v-list-item-subtitle",[e._v(e._s(e.confirmedBalanceInDash)+" confirmed")]),n("v-list-item-subtitle",[e._v(e._s(e.unconfirmedBalanceInDash)+" unconfirmed")])],1)],1),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline mb-2"},[e._v("Receiving address "),n("v-tooltip",{attrs:{right:""},model:{value:e.addressCopied,callback:function(t){e.addressCopied=t},expression:"addressCopied"}},[[n("v-icon",{staticClass:"ml-1 mt-n1",on:{click:e.copyReceivingAddressToClipboard}},[e._v("mdi-clipboard-multiple-outline")])],n("span",[e._v("Copied")])],2)],1),n("v-list-item-subtitle",[n("pre",{staticClass:"text-wrap",staticStyle:{"font-size":"1.5em"},on:{click:e.copyReceivingAddressToClipboard}},[e._v(e._s(e.getWallet.unusedAddress)+"\n                  ")]),n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({staticClass:"my-2",attrs:{small:""},on:{click:e.goToFaucet}},r),[e._v("Get Dash")])]}}],null,!1,2042070577)},[n("span",[e._v("Receive free Dash from the Faucet")])])],1)],1)],1)],1),n("v-col",{staticStyle:{"text-align":"center"}},[n("div",{staticStyle:{display:"inline-block"},on:{click:e.copyReceivingAddressToClipboard}},[n("qrcode",{staticStyle:{"margin-top":"-5px"},attrs:{value:e.getWallet.unusedAddress,options:{width:200}}})],1)])],1)],1),n("v-card-actions",[n("v-row",{staticClass:"px-2",attrs:{row:"","d-flex":"",nowrap:"",justify:"center"}},[n("v-text-field",{attrs:{error:!e.sendToAddressValid,label:"Send Dash to Address",disabled:!e.getWallet.balance,outlined:"",hint:"Enter a valid Dash Address"},model:{value:e.sendToAddress,callback:function(t){e.sendToAddress=t},expression:"sendToAddress"}})],1)],1)],1):e._e()],1),e.hasWallet?n("v-container",{staticStyle:{"max-width":"900px"},attrs:{fluid:""}},[n("v-expansion-panels",{attrs:{accordion:!0,multiple:!0,hover:"","max-width":"700px"}},[n("v-expansion-panel",{attrs:{"max-width":"700px"}},[n("v-expansion-panel-header",[e._v("Addresses")]),n("v-expansion-panel-content",[n("v-card",{attrs:{outlined:""}},[n("v-simple-table",{attrs:{dense:""}},[n("thead",[n("tr",[n("th",[e._v("Receiving Address")]),n("th",[e._v("Balance")]),n("th",[e._v("Used")])])]),n("tbody",e._l(e.getWallet.addresses,(function(t){return n("tr",{key:t.id,style:t.used?" background: rgba(255, 82, 82, 0.3);":" background: rgba(76, 175, 80, 0.3);"},[n("td",[e._v(e._s(t.address))]),n("td",[e._v(" "+e._s(e.fromDuffsToDash(t.unconfirmedBalanceSat+t.balanceSat))+" ")]),n("td",[e._v(e._s(t.used))])])})),0)])],1)],1)],1),n("v-expansion-panel",[n("v-expansion-panel-header",[e._v("Coins")]),n("v-expansion-panel-content",[n("v-card",{attrs:{outlined:""}},[n("v-simple-table",{attrs:{dense:""}},[n("thead",[n("tr",[n("th",[e._v("Address")]),n("th",[e._v("Balance")]),n("th",[e._v("Transaction Id")])])]),n("tbody",e._l(e.getWallet.utxos,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.address))]),n("td",[e._v(e._s(e.fromDuffsToDash(t.satoshis)))]),n("td",[n("a",{attrs:{href:"http://devnet-evonet-28309188.us-west-2.elb.amazonaws.com:3001/insight/tx/"+t.txId,target:"_bank"}},[e._v(e._s(t.txId))])])])})),0)])],1)],1)],1)],1)],1):e._e(),n("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.mnemonicDialog,callback:function(t){e.mnemonicDialog=t},expression:"mnemonicDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.mnemonicDialogTitle))])]),n("v-card-text",[n("v-alert",{attrs:{dense:"",outlined:"",color:"blue"}},[n("div",[n("strong",[e._v("Important:")]),e._v(" Backup your recovery phrase or loose your coins!")])]),n("v-textarea",{ref:"mnemonic",attrs:{label:e.mnemonicDialogLabel,"auto-grow":"",outlined:"",loading:e.mnemonicDialogLoading,readonly:!e.mnemonicDialogIsRestore,rows:"3","row-height":"25",clearable:e.mnemonicDialogIsRestore,"clear-icon":"mdi-backspace"},model:{value:e.mnemonicText,callback:function(t){e.mnemonicText=t},expression:"mnemonicText"}})],1),n("v-card-actions",[n("v-btn",{attrs:{"x-large":""},on:{click:function(t){e.mnemonicDialog=!1}}},[e._v("Close")]),n("v-spacer"),e.mnemonicDialogIsRestore?n("v-btn",{attrs:{"x-large":"",color:"primary"},on:{click:e.restoreMnemonic}},[e._v("Restore Wallet")]):e._e(),e.mnemonicDialogIsRestore?e._e():n("v-btn",{attrs:{"x-large":"",color:"primary"},on:{click:e.copyMnemonicToClipboard}},[e._v("Copy Passphrase")])],1)],1)],1),n("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.sendDashDialog,callback:function(t){e.sendDashDialog=t},expression:"sendDashDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Send Dash")])]),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline mb-2"},[e._v("Send To")]),n("v-list-item-subtitle",[n("pre",{staticClass:"text-wrap",staticStyle:{"font-size":"1.2em"}},[e._v(e._s(e.getWallet.unusedAddress)+"\n                  ")])])],1)],1),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline mb-2"},[e._v("Amount")]),n("v-list-item-subtitle",[n("v-text-field",{ref:"sendtoamount",staticClass:"mt-1",attrs:{error:!e.sendToAmountValid,outlined:"",required:"",autofocus:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.submitSendDash(t))}},model:{value:e.sendToAmount,callback:function(t){e.sendToAmount=t},expression:"sendToAmount"}})],1)],1)],1)],1)],1)],1)],1),n("v-card-actions",[n("v-btn",{attrs:{"x-large":"",outlined:"",color:"secondary",text:""},on:{click:function(t){e.sendToAddress=""}}},[e._v("Cancel")]),n("v-spacer"),n("v-btn",{attrs:{"x-large":"",disabled:!e.sendToAmountValid,color:"primary"},on:{click:e.submitSendDash}},[e._v("Confirm")])],1)],1)],1)],1)},T=[],E=(n("b0c0"),n("d3b7"),n("96cf"),n("b2e5")),P=n.n(E),A=n("87c4"),R=n.n(A);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}r["a"].component(P.a.name,P.a);var J=R.a.Address,W=R.a.Unit,$={data:function(){return{addressCopied:!1,sendToAddress:"",sendToAmount:null,isRefreshingBalance:!1,dialog:!0,mnemonicDialog:!1,mnemonicDialogIsRestore:!1,mnemonicDialogTitle:"Create Mnemonic",mnemonicDialogLabel:"Generating Wallet ..",mnemonicDialogLoading:!0,mnemonicText:""}},computed:N({},Object(i["c"])(["hasWallet","getWallet","identityLists","isSyncing","isError"]),{sendDashDialog:function(){return!(!this.sendToAddressValid||""==this.sendToAddress)},balanceInDash:function(){var e=this.getWallet.balance;return W.fromSatoshis(e).toBTC()},confirmedBalanceInDash:function(){var e=this.getWallet.confirmedBalance;return W.fromSatoshis(e).toBTC()},unconfirmedBalanceInDash:function(){var e=this.getWallet.unconfirmedBalance;return W.fromSatoshis(e).toBTC()},sendToAddressValid:function(){var e=this.sendToAddress;return!e||J.isValid(e,"testnet")},sendToAmountValid:function(){var e=this.sendToAmount,t=this.getWallet,n=t.balance,r=W.fromBTC(e).toSatoshis();return r<=n&&r>0}}),watch:{sendDashDialog:function(){var e=this;console.log("hello"),setTimeout((function(){return e.$refs.sendtoamount.focus()}),150)}},methods:N({},Object(i["b"])(["searchDashNames","sendDash","setMnemonic","setSyncing"]),{refreshWallet:function(){var e=this;this.isRefreshingBalance=!0,this.$store.dispatch("refreshWallet"),setTimeout((function(){e.isRefreshingBalance=!1}),1e3)},goToFaucet:function(){window.open("http://devnet-evonet-28309188.us-west-2.elb.amazonaws.com/","_blank")},forgetState:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:this.mnemonicText="",this.$store.commit("resetState");case 2:case"end":return e.stop()}}),null,this)},copyMnemonicToClipboard:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:e=this.$refs.mnemonic.$el.querySelector("textarea"),e.select(),document.execCommand("copy"),window.getSelection().removeAllRanges();case 4:case"end":return t.stop()}}),null,this)},copyReceivingAddressToClipboard:function(){var e,t=this;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:try{e=document.createElement("textarea"),e.value=this.getWallet.unusedAddress,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.addressCopied=!0,setTimeout((function(){t.addressCopied=!1}),1e3)}catch(r){this.showSnackError(r)}case 1:case"end":return n.stop()}}),null,this)},showCreateMnemonic:function(e){var t=this;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){t.mnemonicDialogLabel="Generating wallet ..",t.mnemonicDialogLoading=!0,t.mnemonicDialog=!0,t.mnemonicDialogTitle="Create Mnemonic",t.mnemonicDialogIsRestore=!1,setTimeout(n,e)})));case 1:case"end":return n.stop()}}))},createMnemonic:function(){var e=this;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.commit("setSyncing",!0),this.showCreateMnemonic(200).then((function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("resetState"),e.$store.commit("setMnemonic",null),t.next=4,regeneratorRuntime.awrap(e.$store.dispatch("initWallet"));case 4:e.mnemonicText=e.getWallet.mnemonic,e.mnemonicDialogLabel="Wallet",e.mnemonicDialogLoading=!1;case 7:case"end":return t.stop()}}))}));case 2:case"end":return t.stop()}}),null,this)},backupMnemonic:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:this.mnemonicDialog=!0,this.mnemonicDialogTitle="Backup Mnemonic",this.mnemonicDialogLabel="Wallet",this.mnemonicDialogIsRestore=!1,this.mnemonicDialogLoading=!1,this.mnemonicText=this.getWallet.mnemonic;case 6:case"end":return e.stop()}}),null,this)},showRestoreMnemonic:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:this.mnemonicDialog=!0,this.mnemonicDialogTitle="Restore Mnemonic",this.mnemonicDialogLabel="Enter your 12 word recovery phrase",this.mnemonicDialogLoading=!1,this.mnemonicDialogIsRestore=!0;case 5:case"end":return e.stop()}}),null,this)},restoreMnemonic:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return this.mnemonicDialogLoading=!0,e=this.mnemonicText,console.log(e),this.$store.commit("resetState"),this.$store.commit("setMnemonic",e),t.next=7,regeneratorRuntime.awrap(this.$store.dispatch("initWallet"));case 7:this.mnemonicText=this.getWallet.mnemonic,this.mnemonicDialogLoading=!1;case 9:case"end":return t.stop()}}),null,this)},fromDuffsToDash:function(e){return W.fromSatoshis(e).toBTC()},submitSendDash:function(e){var t=this;e.stopImmediatePropagation(),e.preventDefault();var n=this.sendToAddress,r=this.sendDash,o=W.fromBTC(this.sendToAmount).toSatoshis();r({sendToAddress:n,satoshis:o}).then((function(){return t.sendToAddress=""}))}})},M=$,q=n("0798"),L=n("b0af"),F=n("99d9"),U=n("169a"),z=n("cd55"),Q=n("49e2"),H=n("c865"),Y=n("0393"),G=n("132d"),X=n("da13"),K=n("5d23"),Z=n("0fd9"),ee=n("1f4f"),te=n("8654"),ne=n("a844"),re=n("3a2f"),oe=Object(m["a"])(M,V,T,!1,null,null,null),ae=oe.exports;h()(oe,{VAlert:q["a"],VBtn:b["a"],VCard:L["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:F["c"],VCol:y["a"],VContainer:g["a"],VDialog:U["a"],VExpansionPanel:z["a"],VExpansionPanelContent:Q["a"],VExpansionPanelHeader:H["a"],VExpansionPanels:Y["a"],VIcon:G["a"],VListItem:X["a"],VListItemContent:K["a"],VListItemSubtitle:K["b"],VListItemTitle:K["c"],VRow:Z["a"],VSimpleTable:ee["a"],VSpacer:k["a"],VTextField:te["a"],VTextarea:ne["a"],VTooltip:re["a"]});var se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticStyle:{"max-width":"900px"}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"d-flex",attrs:{cols:"12"}},[n("v-combobox",{ref:"selectedid",staticClass:"mr-2",attrs:{items:e.comboIdentities,label:"Search Names, paste ContractId",outlined:"",autofocus:"",color:"blue"},on:{change:e.awesomeBar},model:{value:e.selectedIdentity,callback:function(t){e.selectedIdentity=t},expression:"selectedIdentity"}}),n("v-speed-dial",{staticClass:"mt-n4",staticStyle:{"z-index":"4",left:"0px"},attrs:{top:"",right:"",direction:"bottom"},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-btn",{attrs:{fab:""},on:{click:function(t){return e.clearIdentity()},blur:function(t){return e.closeFab()}},model:{value:e.fab,callback:function(t){e.fab=t},expression:"fab"}},[e.fab?n("v-icon",[e._v("mdi-close")]):n("v-icon",[e._v("mdi-plus")])],1)]},proxy:!0}]),model:{value:e.fab,callback:function(t){e.fab=t},expression:"fab"}},[n("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({attrs:{fab:""},on:{click:function(t){return e.createIdentity({name:"user",value:1})}}},r),[n("v-icon",{attrs:{color:"primary",dark:""}},[e._v("mdi-account")])],1)]}}])},[n("span",[e._v("New User")])]),n("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({attrs:{fab:""},on:{click:function(t){return e.createIdentity({name:"application",value:2})}}},r),[n("v-icon",{attrs:{color:"primary",dark:""}},[e._v("mdi-code-json")])],1)]}}])},[n("span",[e._v("New App")])])],1)],1)],1),"application"===e.selectedIdentity.type&&e.selectedIdentity.value&&!e.contracts[e.selectedIdentity.value]?n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",[n("v-card",{staticClass:"mx-auto"},[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Register a Contract")])]),n("v-card-text",{staticClass:"text-center"},[e._v(" Here @andyfreer explains the new dev what to know and do about contracts ")]),n("v-card-actions",{staticClass:"text-center"},[n("Contract",{attrs:{identity:e.selectedIdentity}})],1)],1)],1)],1):e._e(),"application"===e.selectedIdentity.type&&e.selectedIdentity.value&&e.contracts[e.selectedIdentity.value]?n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",[n("Documents",{attrs:{"selected-contract-id":e.selectedIdentity.value}})],1)],1):e._e(),e.showMyUsers?n("v-row",[n("v-col",{staticClass:"d-flex"},[n("v-text-field",{attrs:{outlined:"",label:"Choose your new username"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createUsername(t)}},model:{value:e.newUsername,callback:function(t){e.newUsername=t},expression:"newUsername"}}),n("v-btn",{attrs:{color:"primary","x-large":""},on:{click:function(t){return e.createUsername()}}},[e._v("Register")])],1)],1):e._e(),n("v-row",[n("v-col",e._l(e.names[e.selectedIdentity.value],(function(t,r){return n("v-chip",{key:r,staticClass:"ma-4",attrs:{pill:"",color:"blue","text-color":"white"}},[n("v-avatar",{attrs:{left:""}},[n("v-icon",[e._v("mdi-account-circle")])],1),e._v(" "+e._s(t)+" ")],1)})),1)],1),e.showUserSearchTable?n("v-row",[n("v-col",[n("v-card",{staticClass:"mx-auto"},[n("v-simple-table",{attrs:{loading:e.submittingSearch}},[n("thead",[n("tr",[n("th",[e._v("Name")]),n("th",[e._v("Identity Id")])])]),n("tbody",e._l(e.searchDashNameList,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.label))]),n("td",[e._v(e._s(t.userId))])])})),0)])],1)],1)],1):e._e(),n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col")],1)],1)},ie=[],ce=(n("99af"),n("fb6a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-btn",{staticClass:"ma-2",attrs:{"x-large":"",color:"primary"},on:{click:function(){return e.openDialog(e.identity)}}},[e._v(e._s(e.identity.contract?"View Contract":"Register Contract"))]),n("v-dialog",{attrs:{fullscreen:"",persistent:"",transition:"dialog-bottom-transition"},model:{value:e.showJsonDialog,callback:function(t){e.showJsonDialog=t},expression:"showJsonDialog"}},[n("v-card",[n("v-form",{on:{submit:e.validateJsonAndSubmit}},[n("v-toolbar",{attrs:{color:"primary"}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){e.showJsonDialog=!1}}},[n("v-icon",[e._v("mdi-close")])],1),n("v-toolbar-title",[e._v("Contract for "+e._s(e.selectedIdentity.value))]),n("v-spacer"),e.selectedIdentity.contract?e._e():n("v-toolbar-items",[n("v-btn",{attrs:{text:"",loading:e.submitting},on:{click:e.validateJsonAndSubmit}},[e._v("submit")])],1)],1),n("AceEditor",{ref:"aceEditor",attrs:{lang:"json",theme:"clouds_midnight",width:"100%",height:"94vh"},on:{init:e.aceEditorInit},model:{value:e.json,callback:function(t){e.json=t},expression:"json"}})],1)],1)],1)],1)}),le=[],de=(n("25f0"),n("7c9e")),ue=n.n(de);n("818b"),n("c31c");function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he={components:{AceEditor:ue.a},props:["identity"],data:function(){return{showJsonDialog:!1,submitting:!1,selectedIdentity:{},json:""}},computed:pe({},Object(i["c"])(["applicationIdentitiesWithContracts"])),methods:pe({},Object(i["b"])(["registerContract","showSnackError"]),{setAceEditorReadonly:function(){var e=this.selectedIdentity.contract;this.$refs.aceEditor&&this.$refs.aceEditor.editor.setReadOnly(e)},aceEditorInit:function(){this.setAceEditorReadonly()},openDialog:function(e){this.selectedIdentity=e,this.json=e.contract?JSON.stringify(e.contract,null,2):"",this.showJsonDialog=!0,this.setAceEditorReadonly()},validateJsonAndSubmit:function(){var e=this.json;try{JSON.parse(e.toString()),this.submit()}catch(t){this.showSnackError(t)}},submit:function(){var e=this,t=this.json,n=this.identity;this.submitting=!0,this.registerContract({identityId:n.value,json:JSON.parse(t.toString())}).then((function(){e.showJsonDialog=!1})).finally((function(){e.submitting=!1}))}})},ve=he,fe=(n("fdc0"),n("4bd4")),be=n("71d9"),ye=Object(m["a"])(ve,ce,le,!1,null,"6c719396",null),ge=ye.exports;h()(ye,{VBtn:b["a"],VCard:L["a"],VContainer:g["a"],VDialog:U["a"],VForm:fe["a"],VIcon:G["a"],VSpacer:k["a"],VToolbar:be["a"],VToolbarItems:j["a"],VToolbarTitle:j["b"]});var we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[e.selectedContractId?n("v-col",{staticClass:"d-flex",attrs:{cols:"12"}},[n("v-select",{attrs:{items:e.documentTypes,outlined:"","append-icon-outer":"mdi-plus",label:"Document Type"},model:{value:e.selectedDocumentType,callback:function(t){e.selectedDocumentType=t},expression:"selectedDocumentType"}}),n("v-btn",{staticClass:"mt-2 ml-2",attrs:{dark:"",small:"",fab:"",top:"",right:"",color:"blue"},on:{click:function(){return e.openDialog()}}},[n("v-icon",[e._v("mdi-plus")])],1)],1):e._e()],1),e.selectedContractId?n("v-row",[n("v-col",[n("v-expansion-panels",[n("v-expansion-panel",[n("v-expansion-panel-header",[e._v("View Contract")]),n("v-expansion-panel-content",[n("pre",[e._v(e._s(e.selectedContractPretty))])])],1),n("v-expansion-panel",{attrs:{dense:""}},[n("v-expansion-panel-header",{attrs:{dense:""}},[e._v("Query Options for '"+e._s(e.selectedDocumentType)+"'")]),n("v-expansion-panel-content",{attrs:{dense:""}},[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12",md:"1"}},[n("v-text-field",{attrs:{label:"limit",type:"number"},model:{value:e.queryModifiers.limit,callback:function(t){e.$set(e.queryModifiers,"limit",t)},expression:"queryModifiers.limit"}})],1),n("v-col",{attrs:{cols:"12",md:"1"}},[n("v-text-field",{attrs:{label:"startAt",type:"number"},model:{value:e.queryModifiers.startAt,callback:function(t){e.$set(e.queryModifiers,"startAt",t)},expression:"queryModifiers.startAt"}})],1),n("v-col",{attrs:{cols:"12",md:"3"}},[n("v-select",{attrs:{items:e.documentProperties,label:"orderBy 1",clearable:""},model:{value:e.orderBy1.property,callback:function(t){e.$set(e.orderBy1,"property",t)},expression:"orderBy1.property"}})],1),n("v-col",{attrs:{cols:"12",md:"2"}},[n("v-select",{attrs:{items:["asc","desc"],label:"Direction 1"},model:{value:e.orderBy1.direction,callback:function(t){e.$set(e.orderBy1,"direction",t)},expression:"orderBy1.direction"}})],1),n("v-col",{attrs:{cols:"12",md:"3"}},[n("v-select",{attrs:{items:e.documentProperties,label:"orderBy 2",clearable:""},model:{value:e.orderBy2.property,callback:function(t){e.$set(e.orderBy2,"property",t)},expression:"orderBy2.property"}})],1),n("v-col",{attrs:{cols:"12",md:"2"}},[n("v-select",{attrs:{items:["asc","desc"],label:"Direction 2"},model:{value:e.orderBy2.direction,callback:function(t){e.$set(e.orderBy2,"direction",t)},expression:"orderBy2.direction"}})],1)],1),e._l(e.documentProperties,(function(t,r){return n("v-row",{key:r,attrs:{dense:""}},[n("v-col",{attrs:{cols:"12",md:"4",dense:""}},[n("v-text-field",{attrs:{label:"Index Field",dense:"",outlined:"",readonly:"",value:t}})],1),n("v-col",{attrs:{cols:"12",md:"4",dense:""}},[n("v-select",{attrs:{items:e.queryOperators,label:"Operator",outlined:"",dense:""},model:{value:e.whereOperators[t],callback:function(n){e.$set(e.whereOperators,t,n)},expression:"whereOperators[property]"}})],1),n("v-col",{attrs:{cols:"12",md:"4",dense:""}},[n("v-text-field",{attrs:{label:"Value",dense:"",outlined:""},model:{value:e.whereValues[t],callback:function(n){e.$set(e.whereValues,t,n)},expression:"whereValues[property]"}})],1)],1)}))],2)],1)],1)],1)],1):e._e(),e.selectedContractId?n("v-row",[n("v-col",[n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.submitQuery()}}},[e._v('Query documents of type "'+e._s(e.selectedDocumentType)+'"')])],1)],1):e._e(),Object.keys(e.queryOpts).length?n("v-row",[n("v-col",[n("h2",[e._v("Query Options")]),n("pre",[e._v(e._s(e.prettyJson(e.queryOpts)))])])],1):e._e(),n("v-row",[n("v-col",[Object.keys(e.selectedDocuments).length?n("h2",[e._v("Documents")]):e._e(),e._l(e.selectedDocuments,(function(t,r){return n("pre",{key:r},[e._v(e._s(e.prettyJson(t)))])}))],2)],1),n("v-row",[n("v-col",[n("v-form",[n("v-container",[n("v-expansion-panels")],1)],1)],1)],1),n("v-dialog",{attrs:{fullscreen:"",persistent:"",transition:"dialog-bottom-transition"},model:{value:e.showJsonDialog,callback:function(t){e.showJsonDialog=t},expression:"showJsonDialog"}},[n("v-card",[n("v-form",{on:{submit:e.validateJsonAndSubmit}},[n("v-toolbar",{attrs:{color:"primary"}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){e.showJsonDialog=!1}}},[n("v-icon",[e._v("mdi-close")])],1),n("v-toolbar-title",[e._v('Document "'+e._s(e.selectedDocumentType)+'" for '+e._s(e.selectedContractId))]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{text:"",loading:e.submitting},on:{click:e.validateJsonAndSubmit}},[e._v("submit")])],1)],1),n("AceEditor",{ref:"aceEditor",attrs:{lang:"json",theme:"clouds_midnight",width:"100%",height:"94vh"},model:{value:e.json,callback:function(t){e.json=t},expression:"json"}})],1)],1)],1)],1)},Oe=[];n("caad"),n("e25e");function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e={components:{AceEditor:ue.a},props:["selectedContractId"],data:function(){return{snackbar:!1,snackbarText:"",selectedDocumentType:"",showJsonDialog:!1,submitting:!1,json:"",queryModifiers:{limit:10,startAt:0},orderBy1:{property:"",direction:"asc"},orderBy2:{property:"",direction:"asc"},whereValues:{},whereOperators:{},whereFields:{},queryOpts:{},queryOperators:["<","<=","==","=>",">","in","length","contains","elementMatch","startsWith"]}},computed:De({},Object(i["c"])(["contracts","documents"]),{contractIds:function(){return Object.keys(this.contracts)},documentProperties:function(){var e=this.contracts,t=this.selectedContractId;console.log(e[t]);var n=[];if(this.selectedContract[this.selectedDocumentType]){console.log(this.selectedContract[this.selectedDocumentType]);var r,o=this.selectedContract[this.selectedDocumentType].indices;for(r in o){console.log(r),console.log(o[r]);var a=void 0;for(a in o[r].properties)console.log("p",a),console.log(Object.keys(o[r].properties[a])[0]),n.push(Object.keys(o[r].properties[a])[0])}}return console.log(n),n},selectedContract:function(){var e=this.contracts,t=this.selectedContractId,n=e[t];return n?(console.log(n),n):(this.addContract({identifier:t}),console.log("fetching unknown contract and adding to state"),{})},selectedContractPretty:function(){return this.prettyJson(this.selectedContract)},selectedDocuments:function(){var e=this.selectedContractId?this.documents[this.selectedContractId]:{};return e||{}},documentTypes:function(){var e=[];return this.selectedContractId&&(e=Object.keys(this.selectedContract)),this.selectedDocumentType=e[0],e}}),methods:De({},Object(i["b"])(["submitDocument","queryDocuments","showSnackError","addContract"]),{submitQuery:function(){var e=this.documentProperties,t=this.whereOperators,n=this.whereValues,r=this.queryModifiers,o=this.queryDocuments,a=this.selectedContractId,s=this.selectedDocumentType,i=this.orderBy1,c=this.orderBy2,l=r.limit,d=r.startAt;this.queryOpts={limit:l,startAt:d};var u=[];i.property&&u.push([i.property,i.direction]),c.property&&u.push([c.property,c.direction]),this.queryOpts.order=u;var m,p=[];for(m in e){var h=e[m],v=t[h],f=n[h];if(v&&f){var b=["in","contains","elementMatch"];if(b.includes(v))try{p.push([h,t[h],JSON.parse(n[h])])}catch(g){this.showSnackError(g.message+" ( Make sure to use double ticks instead of ' )")}else if("length"===v){var y=parseInt(f);y?p.push([h,t[h],parseInt(n[h])]):this.showSnackError('"'.concat(f,'" must be a number'))}else p.push([h,t[h],n[h]])}}this.queryOpts.where=p.length?p:void 0,console.dir(this.queryOpts,{depth:5}),o({contractId:a,typeLocator:s,queryOpts:this.queryOpts})},prettyJson:function(e){return JSON.stringify(e,null," ")},openDialog:function(){this.showJsonDialog=!0},validateJsonAndSubmit:function(){var e=this.json;try{JSON.parse(e.toString()),this.submit()}catch(t){this.showSnackError(t)}},submit:function(){var e=this,t=this.json,n=this.selectedContractId,r=this.selectedDocumentType;this.submitting=!0,this.submitDocument({contractId:n,type:r,json:JSON.parse(t.toString())}).then((function(){e.showJsonDialog=!1})).catch((function(t){e.showSnackError(t)})).finally((function(){e.submitting=!1}))}})},ke=_e,je=(n("afac"),n("b974")),Ce=Object(m["a"])(ke,we,Oe,!1,null,"6cc3700a",null),Se=Ce.exports;function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}h()(Ce,{VBtn:b["a"],VCard:L["a"],VCol:y["a"],VContainer:g["a"],VDialog:U["a"],VExpansionPanel:z["a"],VExpansionPanelContent:Q["a"],VExpansionPanelHeader:H["a"],VExpansionPanels:Y["a"],VForm:fe["a"],VIcon:G["a"],VRow:Z["a"],VSelect:je["a"],VSpacer:k["a"],VTextField:te["a"],VToolbar:be["a"],VToolbarItems:j["a"],VToolbarTitle:j["b"]});var Te={components:{Contract:ge,Documents:Se},data:function(){return{selectedIdentity:{text:"",value:null},submittingSearch:"false",newUsername:"",fab:!1}},computed:Ve({},Object(i["c"])(["contracts","names","userIdentities","applicationIdentities","contractIdentities","searchDashNameList"]),{comboIdentities:function(){var e=[];return e.push({header:"My App identities"}),e=e.concat(this.applicationIdentities),e.push({header:"My Users identities"}),e=e.concat(this.userIdentities),e.push({header:"3rd Party Contracts (paste to import)"}),e=e.concat(this.contractIdentities),console.log(e),e},showUserSearchTable:function(){return"string"===typeof this.selectedIdentity&&this.selectedIdentity.length>0&&44!==this.selectedIdentity.length},showMyUsers:function(){var e=this.selectedIdentity;return console.log(e.type),Boolean("user"===e.type)}}),watch:{selectedIdentity:function(){var e=this;this.$refs.selectedid.isMenuActive=!1,setTimeout((function(){e.$refs.selectedid.isMenuActive=!1}),50)}},methods:Ve({},Object(i["b"])(["addContract","showSnackError","searchDashNames","registerName"]),{closeFab:function(){var e=this;setTimeout((function(){e.fab=!1}),150)},createUsername:function(){var e=this;this.$store.commit("setSyncing",!0),this.registerName({identityId:this.selectedIdentity.value,name:this.newUsername}).then((function(){e.newUsername=""})).catch((function(t){return e.showSnackError(t)})).finally((function(){e.$store.commit("setSyncing",!1)}))},isContractId:function(e){return"string"===typeof e&&44===e.length},awesomeBar:function(){var e,t,n,r,o=this;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if(e=this.contracts,t=this.selectedIdentity,n=this.isContractId,!("string"===typeof t&&t.length>0)){a.next=19;break}if(!n(t)){a.next=15;break}if(r=e[t.value],console.log(r),console.log(this.isContractId(t)),r||"string"!==typeof this.selectedIdentity||!(this.selectedIdentity.length>5)){a.next=13;break}return console.log("fetching unknown contract and adding to state"),console.log({identifier:t}),a.next=11,regeneratorRuntime.awrap(this.addContract({identifier:t}));case 11:this.selectedIdentity={text:t,value:t,type:"application"},console.log("done fetching unknown contract and adding to state");case 13:a.next=19;break;case 15:console.log("searching for username",t),this.submittingSearch=!0,this.$store.commit("setSyncing",!0),this.searchDashNames(t).finally((function(){o.submittingSearch=!1,o.$store.commit("setSyncing",!1)}));case 19:case"end":return a.stop()}}),null,this)},clearIdentity:function(){this.selectedIdentity={text:"",value:null}},createIdentity:function(e){var t=this;this.$store.commit("setSyncing",!0),this.$store.dispatch("createIdentity",e).then((function(){var n=t.$store.state.identities[e.name].slice(-1)[0];t.selectedIdentity={text:n.id,value:n.id,type:2===n.type?"application":"user"}})).catch((function(e){t.showSnackError(e)})).finally((function(){t.$store.commit("setSyncing",!1)}))}})},Ee=Te,Pe=n("8212"),Ae=n("cc20"),Re=n("2b5d"),Be=n("c73b"),Ne=Object(m["a"])(Ee,se,ie,!1,null,null,null),Je=Ne.exports;h()(Ne,{VAvatar:Pe["a"],VBtn:b["a"],VCard:L["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:F["c"],VChip:Ae["a"],VCol:y["a"],VCombobox:Re["a"],VContainer:g["a"],VIcon:G["a"],VRow:Z["a"],VSimpleTable:ee["a"],VSpeedDial:Be["a"],VTextField:te["a"],VTooltip:re["a"]});var We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{directives:[{name:"show",rawName:"v-show",value:e.isError,expression:"isError"}]},[n("v-card",[n("v-card-title",[e._v("Error occurred")]),n("v-card-text",[e._v(e._s(e.errorDetails?e.errorDetails.message:""))])],1)],1),n("v-row",{directives:[{name:"show",rawName:"v-show",value:e.isSyncing,expression:"isSyncing"}]},[n("v-card",{attrs:{loading:"primary"}},[n("v-card-title",[e._v("Wallet is syncing")]),n("v-card-text",[e._v("This usually takes from 10 seconds to 1 minute on fast internet")])],1)],1),n("v-row",{directives:[{name:"show",rawName:"v-show",value:!e.isSyncing&&!e.isError,expression:"!isSyncing && !isError"}]},e._l(e.identityLists,(function(t){return n("v-col",{key:t.type.value},[n("v-row",{staticClass:"mb-12"},[n("v-col",[n("h1",[e._v(e._s(t.type.name))])]),n("v-col",{attrs:{cols:"auto"}},[n("v-btn",{attrs:{fab:"",dark:"",color:"primary",loading:e.createIdentityLoading[t.type.name]},on:{click:function(){return e.createIdentity(t.type)}}},[n("v-icon",[e._v("mdi-plus")])],1)],1)],1),t.items.length?n("v-list",{attrs:{shaped:""}},e._l(t.items,(function(t){return n("v-list-item",{key:t.id},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.id))])],1)],1)})),1):n("span",[e._v("List is empty. Try to create an Identity")])],1)})),1)],1)},$e=[];function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le={data:function(){return{createIdentityLoading:{application:!1,user:!1}}},computed:qe({},Object(i["c"])(["identityLists","isSyncing","errorDetails","isError"])),methods:qe({},Object(i["b"])(["searchDashNames"]),{createIdentity:function(e){var t=this;this.createIdentityLoading[e.name]=!0,this.$store.dispatch("createIdentity",e).finally((function(){t.createIdentityLoading[e.name]=!1}))}})},Fe=Le,Ue=n("8860"),ze=Object(m["a"])(Fe,We,$e,!1,null,null,null),Qe=ze.exports;h()(ze,{VBtn:b["a"],VCard:L["a"],VCardText:F["b"],VCardTitle:F["c"],VCol:y["a"],VContainer:g["a"],VIcon:G["a"],VList:Ue["a"],VListItem:X["a"],VListItemContent:K["a"],VListItemTitle:K["c"],VRow:Z["a"]});var He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[n("v-col",[n("h2",[e._v("Register My Names")])])],1),e.userIdentitiesWithNames.length?n("v-row",[n("v-col",[n("v-simple-table",[n("thead",[n("tr",[n("th",[e._v("Id")]),n("th",[e._v("Names")]),n("th")])]),n("tbody",e._l(e.userIdentitiesWithNames,(function(t){return n("tr",{key:t.id},[n("td",[e._v(e._s(t.id))]),n("td",[e._v(e._s(t.names.join(", ")))]),n("td",[n("v-btn",{attrs:{icon:""},on:{click:function(){return e.openDialog(t)}}},[n("v-icon",[e._v("mdi-plus")])],1)],1)])})),0)])],1)],1):n("v-row",[n("v-col",[n("v-alert",{attrs:{type:"error"}},[e._v(" You must have User Identity in order to register a Domain Name for it ")])],1)],1),n("v-row",[n("v-col",[n("h2",[e._v("Search All Names")])])],1),n("v-row",[n("v-col",[n("v-form",{on:{submit:e.submitSearch}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[n("v-text-field",{attrs:{label:"Starts with",outlined:""},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[n("v-btn",{attrs:{"x-large":"",color:"primary",type:"submit",loading:e.submittingSearch}},[e._v("Search Dash Name")])],1)],1)],1)],1)],1)],1),n("v-row",[n("v-col",[n("v-simple-table",[n("thead",[n("tr",[n("th",[e._v("Name")]),n("th",[e._v("Identity Id")])])]),n("tbody",e._l(e.searchDashNameList,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.label))]),n("td",[e._v(e._s(t.userId))])])})),0)])],1)],1),n("v-dialog",{attrs:{"max-width":"400px"},model:{value:e.showNameDialog,callback:function(t){e.showNameDialog=t},expression:"showNameDialog"}},[n("v-card",[n("v-form",{on:{submit:e.submit}},[n("v-card-title",[e._v(e._s(e.selectedIdentity.id))]),n("v-card-text",[n("v-text-field",{attrs:{counter:"",label:"Name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),n("v-card-actions",[n("v-btn",{on:{click:function(t){e.showNameDialog=!1}}},[e._v("close")]),n("v-spacer"),n("v-btn",{attrs:{color:"primary",loading:e.submitting,type:"submit"}},[e._v("Register")])],1)],1)],1)],1)],1)},Ye=[];function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ke={data:function(){return{showNameDialog:!1,submitting:!1,submittingSearch:!1,selectedIdentity:{},name:"",searchString:""}},computed:Xe({},Object(i["c"])(["userIdentitiesWithNames","searchDashNameList"])),methods:Xe({},Object(i["b"])(["registerName","searchDashNames"]),{openDialog:function(e){this.selectedIdentity=e,this.name="",this.showNameDialog=!0},submitSearch:function(e){var t=this,n=this.searchString;e.preventDefault(),this.submittingSearch=!0,this.searchDashNames(n).finally((function(){t.submittingSearch=!1}))},submit:function(e){var t=this;e.preventDefault();var n=this.name,r=this.selectedIdentity;this.submitting=!0,this.registerName({identityId:r.id,name:n}).then((function(){t.showNameDialog=!1})).finally((function(){t.submitting=!1}))}})},Ze=Ke,et=(n("eca4"),Object(m["a"])(Ze,He,Ye,!1,null,"aecbd2ac",null)),tt=et.exports;h()(et,{VAlert:q["a"],VBtn:b["a"],VCard:L["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:F["c"],VCol:y["a"],VContainer:g["a"],VDialog:U["a"],VForm:fe["a"],VIcon:G["a"],VRow:Z["a"],VSimpleTable:ee["a"],VSpacer:k["a"],VTextField:te["a"]});var nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e.applicationIdentitiesWithContracts.length?n("v-row",[n("v-col",[n("v-simple-table",[n("thead",[n("tr",[n("th",[e._v("Id")]),n("th",[e._v("Contract")])])]),n("tbody",e._l(e.applicationIdentitiesWithContracts,(function(t){return n("tr",{key:t.id},[n("td",[e._v(e._s(t.id))]),n("td",[n("v-btn",{attrs:{text:""},on:{click:function(){return e.openDialog(t)}}},[e._v(e._s(t.contract?"view":"register"))])],1)])})),0)])],1)],1):n("v-row",[n("v-col",[n("v-alert",{attrs:{type:"error"}},[e._v(" You must have Application Identity in order to register a Contract for it ")])],1)],1),n("v-dialog",{attrs:{fullscreen:"",persistent:"",transition:"dialog-bottom-transition"},model:{value:e.showJsonDialog,callback:function(t){e.showJsonDialog=t},expression:"showJsonDialog"}},[n("v-card",[n("v-form",{on:{submit:e.validateJsonAndSubmit}},[n("v-toolbar",{attrs:{color:"primary"}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){e.showJsonDialog=!1}}},[n("v-icon",[e._v("mdi-close")])],1),n("v-toolbar-title",[e._v("Contract for "+e._s(e.selectedIdentity.id))]),n("v-spacer"),e.selectedIdentity.contract?e._e():n("v-toolbar-items",[n("v-btn",{attrs:{text:"",loading:e.submitting},on:{click:e.validateJsonAndSubmit}},[e._v("submit")])],1)],1),n("AceEditor",{ref:"aceEditor",attrs:{lang:"json",theme:"clouds_midnight",width:"100%",height:"94vh"},on:{init:e.aceEditorInit},model:{value:e.json,callback:function(t){e.json=t},expression:"json"}})],1)],1)],1)],1)},rt=[];function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var st={components:{AceEditor:ue.a},data:function(){return{showJsonDialog:!1,submitting:!1,selectedIdentity:{},json:""}},computed:at({},Object(i["c"])(["applicationIdentitiesWithContracts"])),methods:at({},Object(i["b"])(["registerContract","showSnackError"]),{setAceEditorReadonly:function(){var e=this.selectedIdentity.contract;this.$refs.aceEditor&&this.$refs.aceEditor.editor.setReadOnly(e)},aceEditorInit:function(){this.setAceEditorReadonly()},openDialog:function(e){this.selectedIdentity=e,this.json=e.contract?JSON.stringify(e.contract,null,2):"",this.showJsonDialog=!0,this.setAceEditorReadonly()},validateJsonAndSubmit:function(){var e=this.json;try{JSON.parse(e.toString()),this.submit()}catch(t){this.showSnackError(t)}},submit:function(){var e=this,t=this.json,n=this.selectedIdentity;this.submitting=!0,this.registerContract({identity:n,json:JSON.parse(t.toString())}).then((function(){e.showJsonDialog=!1})).finally((function(){e.submitting=!1}))}})},it=st,ct=(n("3ecb"),Object(m["a"])(it,nt,rt,!1,null,"12d66eee",null)),lt=ct.exports;h()(ct,{VAlert:q["a"],VBtn:b["a"],VCard:L["a"],VCol:y["a"],VContainer:g["a"],VDialog:U["a"],VForm:fe["a"],VIcon:G["a"],VRow:Z["a"],VSimpleTable:ee["a"],VSpacer:k["a"],VToolbar:be["a"],VToolbarItems:j["a"],VToolbarTitle:j["b"]});var dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[n("v-col",{staticClass:"d-flex",attrs:{cols:"12"}},[n("v-combobox",{attrs:{items:e.contractIds,label:"Choose or paste contractId",outlined:""},model:{value:e.selectedContractId,callback:function(t){e.selectedContractId=t},expression:"selectedContractId"}})],1)],1),n("v-row",[e.selectedContractId?n("v-col",{staticClass:"d-flex",attrs:{cols:"12"}},[n("v-select",{attrs:{items:e.documentTypes,outlined:"","append-icon-outer":"mdi-plus",label:"Document Type"},model:{value:e.selectedDocumentType,callback:function(t){e.selectedDocumentType=t},expression:"selectedDocumentType"}}),n("v-btn",{staticClass:"mt-2",attrs:{dark:"",small:"",fab:"",top:"",right:"",color:"blue"},on:{click:function(){return e.openDialog()}}},[n("v-icon",[e._v("mdi-plus")])],1)],1):e._e()],1),e.selectedContractId?n("v-row",[n("v-col",[n("v-expansion-panels",[n("v-expansion-panel",[n("v-expansion-panel-header",[e._v("View Contract")]),n("v-expansion-panel-content",[n("pre",[e._v(e._s(e.selectedContractPretty))])])],1),n("v-expansion-panel",{attrs:{dense:""}},[n("v-expansion-panel-header",{attrs:{dense:""}},[e._v("Query Options for '"+e._s(e.selectedDocumentType)+"'")]),n("v-expansion-panel-content",{attrs:{dense:""}},[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12",md:"1"}},[n("v-text-field",{attrs:{label:"limit",type:"number"},model:{value:e.queryModifiers.limit,callback:function(t){e.$set(e.queryModifiers,"limit",t)},expression:"queryModifiers.limit"}})],1),n("v-col",{attrs:{cols:"12",md:"1"}},[n("v-text-field",{attrs:{label:"startAt",type:"number"},model:{value:e.queryModifiers.startAt,callback:function(t){e.$set(e.queryModifiers,"startAt",t)},expression:"queryModifiers.startAt"}})],1),n("v-col",{attrs:{cols:"12",md:"3"}},[n("v-select",{attrs:{items:e.documentProperties,label:"orderBy 1",clearable:""},model:{value:e.orderBy1.property,callback:function(t){e.$set(e.orderBy1,"property",t)},expression:"orderBy1.property"}})],1),n("v-col",{attrs:{cols:"12",md:"2"}},[n("v-select",{attrs:{items:["asc","desc"],label:"Direction 1"},model:{value:e.orderBy1.direction,callback:function(t){e.$set(e.orderBy1,"direction",t)},expression:"orderBy1.direction"}})],1),n("v-col",{attrs:{cols:"12",md:"3"}},[n("v-select",{attrs:{items:e.documentProperties,label:"orderBy 2",clearable:""},model:{value:e.orderBy2.property,callback:function(t){e.$set(e.orderBy2,"property",t)},expression:"orderBy2.property"}})],1),n("v-col",{attrs:{cols:"12",md:"2"}},[n("v-select",{attrs:{items:["asc","desc"],label:"Direction 2"},model:{value:e.orderBy2.direction,callback:function(t){e.$set(e.orderBy2,"direction",t)},expression:"orderBy2.direction"}})],1)],1),e._l(e.documentProperties,(function(t,r){return n("v-row",{key:r,attrs:{dense:""}},[n("v-col",{attrs:{cols:"12",md:"4",dense:""}},[n("v-text-field",{attrs:{label:"Index Field",dense:"",outlined:"",readonly:"",value:t}})],1),n("v-col",{attrs:{cols:"12",md:"4",dense:""}},[n("v-select",{attrs:{items:e.queryOperators,label:"Operator",outlined:"",dense:""},model:{value:e.whereOperators[t],callback:function(n){e.$set(e.whereOperators,t,n)},expression:"whereOperators[property]"}})],1),n("v-col",{attrs:{cols:"12",md:"4",dense:""}},[n("v-text-field",{attrs:{label:"Value",dense:"",outlined:""},model:{value:e.whereValues[t],callback:function(n){e.$set(e.whereValues,t,n)},expression:"whereValues[property]"}})],1)],1)}))],2)],1)],1)],1)],1):e._e(),e.selectedContractId?n("v-row",[n("v-col",[n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.submitQuery()}}},[e._v('Query documents of type "'+e._s(e.selectedDocumentType)+'"')])],1)],1):e._e(),Object.keys(e.queryOpts).length?n("v-row",[n("v-col",[n("h2",[e._v("Query Options")]),n("pre",[e._v(e._s(e.prettyJson(e.queryOpts)))])])],1):e._e(),n("v-row",[n("v-col",[Object.keys(e.selectedDocuments).length?n("h2",[e._v("Documents")]):e._e(),e._l(e.selectedDocuments,(function(t,r){return n("pre",{key:r},[e._v(e._s(e.prettyJson(t)))])}))],2)],1),n("v-row",[n("v-col",[n("v-form",[n("v-container",[n("v-expansion-panels")],1)],1)],1)],1),n("v-dialog",{attrs:{fullscreen:"",persistent:"",transition:"dialog-bottom-transition"},model:{value:e.showJsonDialog,callback:function(t){e.showJsonDialog=t},expression:"showJsonDialog"}},[n("v-card",[n("v-form",{on:{submit:e.validateJsonAndSubmit}},[n("v-toolbar",{attrs:{color:"primary"}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){e.showJsonDialog=!1}}},[n("v-icon",[e._v("mdi-close")])],1),n("v-toolbar-title",[e._v('Document "'+e._s(e.selectedDocumentType)+'" for '+e._s(e.selectedContractId))]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{text:"",loading:e.submitting},on:{click:e.validateJsonAndSubmit}},[e._v("submit")])],1)],1),n("AceEditor",{ref:"aceEditor",attrs:{lang:"json",theme:"clouds_midnight",width:"100%",height:"94vh"},model:{value:e.json,callback:function(t){e.json=t},expression:"json"}})],1)],1)],1)],1)},ut=[];function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht={components:{AceEditor:ue.a},data:function(){return{snackbar:!1,snackbarText:"",selectedContractId:null,selectedDocumentType:"",showJsonDialog:!1,submitting:!1,json:"",queryModifiers:{limit:10,startAt:0},orderBy1:{property:"",direction:"asc"},orderBy2:{property:"",direction:"asc"},whereValues:{},whereOperators:{},whereFields:{},queryOpts:{},queryOperators:["<","<=","==","=>",">","in","length","contains","elementMatch","startsWith"]}},computed:pt({},Object(i["c"])(["contracts","documents"]),{contractIds:function(){return Object.keys(this.contracts)},documentProperties:function(){var e=this.contracts,t=this.selectedContractId;console.log(e[t]);var n=[];if(this.selectedContract[this.selectedDocumentType]){console.log(this.selectedContract[this.selectedDocumentType]);var r,o=this.selectedContract[this.selectedDocumentType].indices;for(r in o){console.log(r),console.log(o[r]);var a=void 0;for(a in o[r].properties)console.log("p",a),console.log(Object.keys(o[r].properties[a])[0]),n.push(Object.keys(o[r].properties[a])[0])}}return console.log(n),n},selectedContract:function(){var e=this.contracts,t=this.selectedContractId,n=e[t];return n?(console.log(n),n):(this.addContract({identifier:t}),console.log("fetching unknown contract and adding to state"),{})},selectedContractPretty:function(){return this.prettyJson(this.selectedContract)},selectedDocuments:function(){var e=this.selectedContractId?this.documents[this.selectedContractId]:{};return e||{}},documentTypes:function(){var e=[];return this.selectedContractId&&(e=Object.keys(this.selectedContract)),this.selectedDocumentType=e[0],e}}),methods:pt({},Object(i["b"])(["submitDocument","queryDocuments","showSnackError","addContract"]),{submitQuery:function(){var e=this.documentProperties,t=this.whereOperators,n=this.whereValues,r=this.queryModifiers,o=this.queryDocuments,a=this.selectedContractId,s=this.selectedDocumentType,i=this.orderBy1,c=this.orderBy2,l=r.limit,d=r.startAt;this.queryOpts={limit:l,startAt:d};var u=[];i.property&&u.push([i.property,i.direction]),c.property&&u.push([c.property,c.direction]),this.queryOpts.order=u;var m,p=[];for(m in e){var h=e[m],v=t[h],f=n[h];if(v&&f){var b=["in","contains","elementMatch"];if(b.includes(v))try{p.push([h,t[h],JSON.parse(n[h])])}catch(g){this.showSnackError(g.message+" ( Make sure to use double ticks instead of ' )")}else if("length"===v){var y=parseInt(f);y?p.push([h,t[h],parseInt(n[h])]):this.showSnackError('"'.concat(f,'" must be a number'))}else p.push([h,t[h],n[h]])}}this.queryOpts.where=p.length?p:void 0,console.dir(this.queryOpts,{depth:5}),o({contractId:a,typeLocator:s,queryOpts:this.queryOpts})},prettyJson:function(e){return JSON.stringify(e,null," ")},openDialog:function(){this.showJsonDialog=!0},validateJsonAndSubmit:function(){var e=this.json;try{JSON.parse(e.toString()),this.submit()}catch(t){this.showSnackError(t)}},submit:function(){var e=this,t=this.json,n=this.selectedContractId,r=this.selectedDocumentType;this.submitting=!0,this.submitDocument({contractId:n,type:r,json:JSON.parse(t.toString())}).then((function(){e.showJsonDialog=!1})).catch((function(t){e.showSnackError(t)})).finally((function(){e.submitting=!1}))}})},vt=ht,ft=Object(m["a"])(vt,dt,ut,!1,null,null,null),bt=ft.exports;h()(ft,{VBtn:b["a"],VCard:L["a"],VCol:y["a"],VCombobox:Re["a"],VContainer:g["a"],VDialog:U["a"],VExpansionPanel:z["a"],VExpansionPanelContent:Q["a"],VExpansionPanelHeader:H["a"],VExpansionPanels:Y["a"],VForm:fe["a"],VIcon:G["a"],VRow:Z["a"],VSelect:je["a"],VSpacer:k["a"],VTextField:te["a"],VToolbar:be["a"],VToolbarItems:j["a"],VToolbarTitle:j["b"]}),r["a"].use(I["a"]);var yt=[{path:"/wallet",name:"wallet",component:ae},{path:"/platform",name:"platform",component:Je},{path:"/identities",name:"identities",component:Qe},{path:"/contracts",name:"contracts",component:lt},{path:"/documents",name:"documents",component:bt},{path:"/names",name:"names",component:tt},{path:"*",redirect:"wallet"}],gt=new I["a"]({mode:"hash",base:"/",routes:yt}),wt=gt,Ot=(n("d81d"),n("3835")),xt=n("2909"),Dt=n("0e44");function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}r["a"].use(i["a"]);var jt,Ct=n("db4f"),St={isSyncing:!1,refresherId:null,wallet:{mnemonic:void 0,confirmedBalance:0},errorDetails:null,isError:!1,snackError:{show:!1,text:""},identities:{user:[],application:[]},names:{},searchNames:[],contracts:{},documents:{}},It={user:{name:"user",value:1},application:{name:"application",value:2}},Vt=new i["a"].Store({state:St,mutations:{addIdentity:function(e,t){var n=t.identity,r=t.type;e.identities[r.name].push(n)},setWallet:function(e,t){e.wallet=t},addName:function(e,t){var n=t.identity,r=t.name,o=n.id,a=e.names[o]||[];e.names=kt({},e.names,Object(s["a"])({},o,[].concat(Object(xt["a"])(a),[r])))},addContract:function(e,t){var n=t.identity,r=t.contract,o=n.id;e.contracts=kt({},e.contracts,Object(s["a"])({},o,r.documents))},addDocument:function(e,t){var n=t.identity,r=t.document,o=n.id;e.documents=kt({},e.documents,Object(s["a"])({},o,kt({},e.documents[o],Object(s["a"])({},r.entropy,r))))},setDocuments:function(e,t){var n=t.contractId,r=t.documents;e.documents=Object(s["a"])({},n,r)},setSearchNames:function(e,t){e.searchNames=JSON.parse(JSON.stringify(t))},setMnemonic:function(e,t){e.wallet.mnemonic=t},setSyncing:function(e,t){e.isSyncing=t},setError:function(e,t){e.errorDetails=t,e.isError=!0},clearError:function(e){e.errorDetails=null,e.isError=!1},setSnackError:function(e,t){e.snackError=t},resetState:function(){this.replaceState(JSON.parse(JSON.stringify(St)))},resetSync:function(e){e.isSyncing=!0,e.isError=!1,e.errorDetails=null}},actions:{addContract:function(e,t){var n,r,o,a,s,i;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:return n=e.commit,r=t.identifier,console.log("id",r),o=jt,a=o.platform,n("setSyncing",!0),c.next=7,regeneratorRuntime.awrap(a.contracts.get(r));case 7:s=c.sent,console.log(s),i={id:r},console.dir({contract:s}),null===s&&console.log("looks like its null"),n("addContract",{identity:i,contract:s}),n("setSyncing",!1);case 14:case"end":return c.stop()}}))},sendDash:function(e,t){var n,r,o,a,s,i,c;return regeneratorRuntime.async((function(l){while(1)switch(l.prev=l.next){case 0:return n=e.dispatch,r=t.sendToAddress,o=t.satoshis,a=jt,s=a.account,l.prev=3,i=s.createTransaction({recipient:r,satoshis:o}),l.next=7,regeneratorRuntime.awrap(s.broadcastTransaction(i));case 7:c=l.sent,console.log("Transaction broadcast!\nTransaction ID:",c),n("refreshWallet"),l.next=17;break;case 12:throw l.prev=12,l.t0=l["catch"](3),console.error("Something went wrong:",l.t0),n("showSnackError",l.t0),l.t0;case 17:case"end":return l.stop()}}),null,null,[[3,12]])},queryDocuments:function(e,t){var n,r,o,a,s;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.commit,r=e.dispatch,o=t.contractId,a=t.queryOpts,console.log(a),n("setSyncing",!0),i.prev=4,i.next=7,regeneratorRuntime.awrap(jt.isReady());case 7:return i.next=9,regeneratorRuntime.awrap(jt.platform.documents.get("dpns.domain",a));case 9:s=i.sent,n("setDocuments",{contractId:o,documents:s}),n("setSyncing",!1),i.next=19;break;case 14:i.prev=14,i.t0=i["catch"](4),r("showSnackError",i.t0),console.error("Something went wrong:",i.t0),n("setSyncing",!1);case 19:case"end":return i.stop()}}),null,null,[[4,14]])},searchDashNames:function(e,t){var n,r,o,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.commit,r=e.dispatch,o={where:[["normalizedParentDomainName","==","dash"],["normalizedLabel","startsWith",t.toLowerCase()]],startAt:0,limit:20,orderBy:[["normalizedLabel","asc"]]},s.prev=2,s.next=5,regeneratorRuntime.awrap(jt.platform.documents.get("dpns.domain",o));case 5:a=s.sent,n("setSearchNames",a),s.next=13;break;case 9:s.prev=9,s.t0=s["catch"](2),r("showSnackError",s.t0),console.error("Something went wrong:",s.t0);case 13:case"end":return s.stop()}}),null,null,[[2,9]])},createIdentity:function(e,t){var n,r,o,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.commit,r=e.dispatch,s.prev=1,s.next=4,regeneratorRuntime.awrap(jt.platform.identities.register(t.name));case 4:return o=s.sent,s.next=7,regeneratorRuntime.awrap(jt.platform.identities.get(o));case 7:a=s.sent,n("addIdentity",{identity:a,type:t}),s.next=16;break;case 11:throw s.prev=11,s.t0=s["catch"](1),r("showSnackError",s.t0),console.log(s.t0),s.t0;case 16:case"end":return s.stop()}}),null,null,[[1,11]])},registerName:function(e,t){var n,r,o,a,s,i,c,l;return regeneratorRuntime.async((function(d){while(1)switch(d.prev=d.next){case 0:return n=e.commit,r=t.identityId,o=t.name,d.next=4,regeneratorRuntime.awrap(jt.platform.identities.get(r));case 4:return a=d.sent,d.next=7,regeneratorRuntime.awrap(jt.platform.names.register(o,a));case 7:return s=d.sent,console.log("createDocument",s),d.next=11,regeneratorRuntime.awrap(jt.platform.documents.get("dpns.domain",{where:[["normalizedParentDomainName","==","dash"],["normalizedLabel","==",o.toLowerCase()]]}));case 11:i=d.sent,c=Object(Ot["a"])(i,1),l=c[0],console.log("doc",l),n("addName",{identity:a,name:o});case 16:case"end":return d.stop()}}))},registerContract:function(e,t){var n,r,o,a,s,i,c,l;return regeneratorRuntime.async((function(d){while(1)switch(d.prev=d.next){case 0:return n=e.commit,r=e.dispatch,o=t.identityId,a=t.json,s=jt,i=s.platform,console.log(o),d.prev=4,d.next=7,regeneratorRuntime.awrap(i.identities.get(o));case 7:return c=d.sent,d.next=10,regeneratorRuntime.awrap(i.contracts.create(a,c));case 10:return l=d.sent,d.next=13,regeneratorRuntime.awrap(i.contracts.broadcast(l,c));case 13:n("addContract",{identity:c,contract:l}),d.next=20;break;case 16:d.prev=16,d.t0=d["catch"](4),r("showSnackError",d.t0),console.error("Something went wrong:",d.t0);case 20:case"end":return d.stop()}}),null,null,[[4,16]])},submitDocument:function(e,t){var n,r,o,a,s,i,c,l,d,u;return regeneratorRuntime.async((function(m){while(1)switch(m.prev=m.next){case 0:return n=e.commit,r=e.dispatch,o=t.contractId,a=t.type,s=t.json,console.log(o),console.log(s),i={network:"testnet",mnemonic:this.state.wallet.mnemonic,apps:{contractExample:{contractId:o}}},console.log("second dashjs client opts",i),c=new Ct.Client(i),l=c.platform,m.next=10,regeneratorRuntime.awrap(c.isReady());case 10:return m.prev=10,m.next=13,regeneratorRuntime.awrap(l.identities.get(o));case 13:return d=m.sent,m.next=16,regeneratorRuntime.awrap(l.documents.create("contractExample.".concat(a),d,s));case 16:return u=m.sent,console.log(u),m.next=20,regeneratorRuntime.awrap(l.documents.broadcast(u,d));case 20:n("addDocument",{identity:d,document:u}),m.next=27;break;case 23:m.prev=23,m.t0=m["catch"](10),r("showSnackError",m.t0),console.error("Something went wrong:",m.t0);case 27:return m.prev=27,c.disconnect(),m.finish(27);case 30:case"end":return m.stop()}}),null,this,[[10,23,27,30]])},initWallet:function(e){var t,n,r,o;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:t=e.commit,n=e.dispatch,r=e.getters,o=this.state.wallet.mnemonic,t("resetSync",!0),console.debug("Start wallet sync..."),a.prev=4,console.dir(jt,{depth:5});try{jt&&(jt.disconnect(),console.log("sdk disconnecting.."))}catch(s){n("showSnackError",s),console.log(s)}return console.log("mnemonic is",o),jt=new Ct.Client({network:"testnet",mnemonic:o,apps:{dpns:{contractId:"77w8Xqn25HwJhjodrHW133aXhjuTsTv9ozQaYpSHACE3"}}}),a.next=11,regeneratorRuntime.awrap(jt.isReady().then((function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:n("refreshWallet"),setInterval((function(){console.log(r.hasWallet),r.hasWallet&&n("refreshWallet")}),5e3),console.dir({client:jt},{depth:5});case 3:case"end":return e.stop()}}))})));case 11:a.next=20;break;case 13:return a.prev=13,a.t0=a["catch"](4),console.debug("Wallet synchronized with an error:"),n("showSnackError",a.t0),t("setError",a.t0),t("setSyncing",!1),a.abrupt("return");case 20:console.debug("Wallet is synchronized"),t("setSyncing",!1);case 22:case"end":return a.stop()}}),null,this,[[4,13]])},showSnackError:function(e,t){var n=e.commit;n("setSnackError",{show:!0,text:t})},refreshWallet:function(e){var t,n,r,o,a,s,i,c,l,d,u,m;return regeneratorRuntime.async((function(p){while(1)switch(p.prev=p.next){case 0:t=e.commit,n=e.dispatch,r=jt,o=r.wallet,a=r.account,p.prev=2,s=a.getUnusedAddress().address,i=a.getConfirmedBalance(),c=a.getUnconfirmedBalance(),l=a.getAddresses(),d=a.getTotalBalance(),u=a.getUTXOS(),m=o.mnemonic,t("setWallet",{mnemonic:m,utxos:u,history:history,unusedAddress:s,balance:d,confirmedBalance:i,unconfirmedBalance:c,addresses:l}),console.log("Total Balance",a.getTotalBalance()),p.next=19;break;case 14:throw p.prev=14,p.t0=p["catch"](2),n("showSnackError",p.t0),console.log(p.t0),p.t0;case 19:case"end":return p.stop()}}),null,null,[[2,14]])}},getters:{getWallet:function(e){var t=e.wallet;return t},hasWallet:function(e){return Boolean(e.wallet.mnemonic)},identityLists:function(e){var t=e.identities;console.log("identities",t),console.log("state",e);var n=Object.keys(It).map((function(e){return{type:It[e],items:t[e]}}));return console.log("lists",n),n},userIdentities:function(e){var t=e.identities.user;return t.map((function(t){return{text:t.id,value:t.id,names:e.names[t.id]||[],type:"user"}}))},applicationIdentities:function(e){var t=e.identities.application;return t.map((function(e){return{text:e.id,value:e.id,type:"application"}}))},contractIdentities:function(e){var t=e.contracts;console.log(t);var n=Object.keys(t).map((function(e){return{text:e,value:e,type:"application"}}));return console.log("n",n),n},names:function(e){var t=e.names;return t},userIdentitiesWithNames:function(e){var t=e.identities.user;return t.map((function(t){return kt({},t,{names:e.names[t.id]||[]})}))},searchDashNameList:function(e){var t=e.searchNames;return t.map((function(e){return{label:e.label,userId:e.$userId}}))},applicationIdentitiesWithContracts:function(e){var t=e.identities.application,n=t.map((function(t){return kt({},t,{contract:e.contracts[t.id]})}));return console.dir(n),n},contracts:function(e){var t=e.contracts;return console.log(t),t},documents:function(e){var t=e.documents;return console.log(t),t},errorDetails:function(e){return e.errorDetails},isSyncing:function(e){return e.isSyncing},isError:function(e){return e.isError},snackError:function(e){return e.snackError}},plugins:[Object(Dt["a"])()]}),Tt=n("f309");r["a"].use(Tt["a"]);var Et=new Tt["a"]({});r["a"].config.productionTip=!1,new r["a"]({router:wt,store:Vt,vuetify:Et,render:function(e){return e(S)}}).$mount("#app")},6:function(e,t){},7:function(e,t){},"7e9c":function(e,t,n){},afac:function(e,t,n){"use strict";var r=n("ebaa"),o=n.n(r);o.a},ebaa:function(e,t,n){},eca4:function(e,t,n){"use strict";var r=n("7e9c"),o=n.n(r);o.a},f3b2:function(e,t,n){e.exports=n.p+"img/dash-logo-large.fc31c6ec.png"},f73e:function(e,t,n){},fdc0:function(e,t,n){"use strict";var r=n("f73e"),o=n.n(r);o.a}});
//# sourceMappingURL=app.a6419c54.js.map